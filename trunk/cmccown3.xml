<project name="m4" basedir=".">
	<property name="src-dir" value="src" />
	<property name="lib-dir" value="lib" />
	<property name="build-dir" value="build" />
	<property name="javadoc-dir" value="apidoc" />
	<property name="jar-file" value="AntLabRun.jar" />
	<property name="man-file" value="MANIFEST.MF" />

	<target name="prepare">
		<mkdir dir="${build-dir}" />
		<mkdir dir="${javadoc-dir}" />
	</target>

	<target name="compile">
		<javac srcdir="${src-dir}" destdir="${build-dir}" includeantruntime="false">
			<classpath>
				<fileset dir="${lib-dir}">
					<include name="*.jar" />
				</fileset>
			</classpath>
		</javac> 
	</target>

	<target name="javadoc">
		<javadoc sourcepath="${src-dir}" destdir="${javadoc-dir}"> 
			<classpath>
				<fileset dir="${lib-dir}">
					<include name="*.jar" />
				</fileset>
			</classpath>
		</javadoc>
	</target>
	
	<target name="jar">
		<manifest file="${man-file}">
			<attribute name="Main-Class" value="edu.gatech.oad.antlab.pkg1.AntLabMain" />
		</manifest>
		<jar basedir="${src-dir}" destfile="${jar-file}" manifest="${man-file}"/>
		<delete file="${man-file} />
	</target>

	<target name="run">
		<java fork="true" jar="${jar-file}" />
	</target>

	<target name="clean">
		<delete dir="${build-dir}" />
		<delete dir="${javadoc-dir}" />
		<delete file="${jar-file}" />
	</target>
</project>
